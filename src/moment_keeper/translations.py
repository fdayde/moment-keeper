"""Module de traductions pour MomentKeeper."""

TRANSLATIONS = {
    "fr": {
        # App principale
        "app_title": "ğŸ¦– MomentKeeper",
        "tagline": "Du Chaos Ã  la Chronologie",
        "subtitle": "Organisez vos photos de ğŸ¦– (bÃ©bÃ©) par mois d'Ã¢ge et dÃ©couvrez vos habitudes photo",
        
        # Sidebar - Configuration
        "config_header": "Configuration",
        "main_folder": "ğŸ“ Dossier principal",
        "main_folder_placeholder": "C:/Users/Nom/ProjetPhotos",
        "main_folder_help": "Dossier qui contiendra les sous-dossiers par mois",
        "browse": "Parcourir",
        
        "source_folder": "ğŸ“‚ Dossier source",
        "source_folder_help": "Dossier contenant les fichiers non triÃ©s",
        "browse_subfolder": "Parcourir sous-dossier",
        
        "birth_date": "ğŸ¦– Date de naissance",
        "file_types": "ğŸ“¹ Type de fichiers",
        "photos": "ğŸ“¸ Photos",
        "videos": "ğŸ¬ VidÃ©os",
        "no_type_selected": "âš ï¸ Veuillez sÃ©lectionner au moins un type de fichier",
        
        "reset_button": "ğŸ”„ RÃ©initialiser",
        "reset_help": "Remet toutes les photos dans le dossier photos",
        
        # Tabs
        "tab_simulation": "ğŸ” Simulation",
        "tab_organization": "ğŸ—‚ï¸ Organisation",
        "tab_analytics": "ğŸ“Š Analytics",
        "tab_insights": "ğŸ¦– Insights",
        
        # Simulation
        "simulation_title": "ğŸ¦– <strong>Simulation de l'organisation</strong><br>PrÃ©visualisez sans dÃ©placer vos fichiers !",
        "analyze_button": "ğŸ¦– Analyser les photos",
        "analyzing": "ğŸ¦– Analyse vos photos...",
        "no_files_found": "â„¹ï¸ Aucune photo trouvÃ©e Ã  organiser",
        "debug_details": "ğŸ” DÃ©tails de l'analyse",
        "birth_date_configured": "Date de naissance configurÃ©e : ",
        "ignored_files_count": "Nombre de fichiers ignorÃ©s : ",
        "warnings": "âš ï¸ Avertissements:",
        
        # Organisation
        "organization_title": "ğŸ—‚ï¸ <strong>Organisation rÃ©elle</strong><br>Temps de passer Ã  l'action !",
        "organization_warning": "ğŸ¦– Attention petits bras ! Cette action dÃ©placera rÃ©ellement vos fichiers.",
        "confirm_organize": "Je confirme vouloir organiser mes {type}",
        "organize_button": "ğŸ¦– Organiser",
        "organizing": "ğŸ¦– Petits bras en action...",
        "errors_occurred": "âŒ Erreurs rencontrÃ©es:",
        
        # Analytics
        "analytics_title": "ğŸ“Š <strong>Analytics</strong><br>ğŸ¦– DÃ©couvrez les statistiques de votre petit explorateur !",
        "calculating_stats": "ğŸ¦– Calcul des statistiques en cours...",
        "no_data_analytics": "â„¹ï¸ Aucune photo trouvÃ©e pour l'analyse",
        
        # MÃ©triques
        "photos_kept": "ğŸ“¸ Photos gardÃ©es",
        "videos_kept": "ğŸ¬ VidÃ©os gardÃ©es",
        "last_capture": "ğŸ“… DerniÃ¨re capture",
        "growth_period": "ğŸ—“ï¸ Croissance",
        "daily_record": "ğŸ† Record quotidien",
        "average_rhythm": "ğŸ“ˆ Rythme",
        "longest_gap": "â±ï¸ Plus long silence",
        
        # Insights
        "insights_title": "ğŸ¦– <strong>Insights</strong><br>DÃ©couvertes sur vos habitudes photo !",
        "searching_data": "ğŸ¦– Fouille dans vos donnÃ©es...",
        "discoveries": "### ğŸ¯ DÃ©couvertes",
        "analyze_first": "Analysez d'abord vos photos pour voir les insights!",
        
        # Messages d'erreur
        "folder_not_exist": "âŒ Le dossier photos '{folder}' n'existe pas dans {root}",
        "root_not_exist": "âŒ Le dossier principal spÃ©cifiÃ© n'existe pas",
        "configure_root": "ğŸ‘ˆ Configurez le dossier principal dans la barre latÃ©rale",
        "folder_must_be_in_root": "Le dossier sÃ©lectionnÃ© doit Ãªtre dans le dossier principal",
        "select_root_first": "SÃ©lectionnez d'abord le dossier principal",
        
        # Footer
        "footer_love": "CrÃ©Ã© avec â¤ï¸ pour un ğŸ¦– aux petits bras mais au grand cÅ“ur",
        "footer_version": "ğŸ¦– MomentKeeper v1.0",
        "footer_tagline": "\"Du Chaos Ã  la Chronologie, une photo Ã  la fois\"",
        
        # Messages dynamiques
        "success_simulation": "ğŸ¦– Rawr de satisfaction ! {photos} photos analysÃ©es et prÃªtes Ã  Ãªtre organisÃ©es !",
        "success_simulation_mixed": "ğŸ¦– Rawr de satisfaction ! {photos} ğŸ“¸ photos et {videos} ğŸ¬ vidÃ©os analysÃ©es !",
        "success_organize": "ğŸ¦– Rawr de victoire ! {count} {type} parfaitement organisÃ©es !",
        "reset_success": "âœ… {count} fichiers remis dans le dossier photos",
        
        # UnitÃ©s
        "months": "mois",
        "photos_unit": "photos",
        "videos_unit": "vidÃ©os",
        "files_unit": "fichiers",
        "and_more": "... et {count} autres",
    },
    
    "en": {
        # App principale
        "app_title": "ğŸ¦– MomentKeeper",
        "tagline": "From Chaos to Chronology",
        "subtitle": "Organize your ğŸ¦– (baby) photos by age in months and discover your photo habits",
        
        # Sidebar - Configuration
        "config_header": "Configuration",
        "main_folder": "ğŸ“ Main folder",
        "main_folder_placeholder": "C:/Users/Name/PhotoProject",
        "main_folder_help": "Folder that will contain the monthly subfolders",
        "browse": "Browse",
        
        "source_folder": "ğŸ“‚ Source folder",
        "source_folder_help": "Folder containing unsorted files",
        "browse_subfolder": "Browse subfolder",
        
        "birth_date": "ğŸ¦– Birth date",
        "file_types": "ğŸ“¹ File types",
        "photos": "ğŸ“¸ Photos",
        "videos": "ğŸ¬ Videos",
        "no_type_selected": "âš ï¸ Please select at least one file type",
        
        "reset_button": "ğŸ”„ Reset",
        "reset_help": "Puts all photos back in the photos folder",
        
        # Tabs
        "tab_simulation": "ğŸ” Simulation",
        "tab_organization": "ğŸ—‚ï¸ Organization",
        "tab_analytics": "ğŸ“Š Analytics",
        "tab_insights": "ğŸ¦– Insights",
        
        # Simulation
        "simulation_title": "ğŸ¦– <strong>Organization simulation</strong><br>Preview without moving your files!",
        "analyze_button": "ğŸ¦– Analyze photos",
        "analyzing": "ğŸ¦– Analyzing your photos...",
        "no_files_found": "â„¹ï¸ No photos found to organize",
        "debug_details": "ğŸ” Analysis details",
        "birth_date_configured": "Configured birth date: ",
        "ignored_files_count": "Number of ignored files: ",
        "warnings": "âš ï¸ Warnings:",
        
        # Organisation
        "organization_title": "ğŸ—‚ï¸ <strong>Actual organization</strong><br>Time to take action!",
        "organization_warning": "ğŸ¦– Watch out tiny arms! This action will actually move your files.",
        "confirm_organize": "I confirm I want to organize my {type}",
        "organize_button": "ğŸ¦– Organize",
        "organizing": "ğŸ¦– Tiny arms in action...",
        "errors_occurred": "âŒ Errors encountered:",
        
        # Analytics
        "analytics_title": "ğŸ“Š <strong>Analytics</strong><br>ğŸ¦– Discover your little explorer's statistics!",
        "calculating_stats": "ğŸ¦– Calculating statistics...",
        "no_data_analytics": "â„¹ï¸ No photos found for analysis",
        
        # MÃ©triques
        "photos_kept": "ğŸ“¸ Photos kept",
        "videos_kept": "ğŸ¬ Videos kept",
        "last_capture": "ğŸ“… Last capture",
        "growth_period": "ğŸ—“ï¸ Growth",
        "daily_record": "ğŸ† Daily record",
        "average_rhythm": "ğŸ“ˆ Rhythm",
        "longest_gap": "â±ï¸ Longest gap",
        
        # Insights
        "insights_title": "ğŸ¦– <strong>Insights</strong><br>Discoveries about your photo habits!",
        "searching_data": "ğŸ¦– Digging through your data...",
        "discoveries": "### ğŸ¯ Discoveries",
        "analyze_first": "Analyze your photos first to see insights!",
        
        # Messages d'erreur
        "folder_not_exist": "âŒ The photos folder '{folder}' doesn't exist in {root}",
        "root_not_exist": "âŒ The specified main folder doesn't exist",
        "configure_root": "ğŸ‘ˆ Configure the main folder in the sidebar",
        "folder_must_be_in_root": "The selected folder must be in the main folder",
        "select_root_first": "Select the main folder first",
        
        # Footer
        "footer_love": "Created with â¤ï¸ for a ğŸ¦– with tiny arms but a big heart",
        "footer_version": "ğŸ¦– MomentKeeper v1.0",
        "footer_tagline": "\"From Chaos to Chronology, one photo at a time\"",
        
        # Messages dynamiques
        "success_simulation": "ğŸ¦– Satisfaction roar! {photos} photos analyzed and ready to be organized!",
        "success_simulation_mixed": "ğŸ¦– Satisfaction roar! {photos} ğŸ“¸ photos and {videos} ğŸ¬ videos analyzed!",
        "success_organize": "ğŸ¦– Victory roar! {count} {type} perfectly organized!",
        "reset_success": "âœ… {count} files put back in the photos folder",
        
        # Units
        "months": "months",
        "photos_unit": "photos",
        "videos_unit": "videos",
        "files_unit": "files",
        "and_more": "... and {count} more",
    }
}


class Translator:
    """Classe pour gÃ©rer les traductions."""
    
    def __init__(self, language='fr'):
        """
        Initialise le traducteur avec une langue.
        
        Args:
            language: Code de langue ('fr' ou 'en')
        """
        self.language = language
        self.translations = TRANSLATIONS
    
    def set_language(self, language: str):
        """Change la langue active."""
        if language in self.translations:
            self.language = language
    
    def t(self, key: str, **kwargs) -> str:
        """
        Traduit une clÃ© avec des paramÃ¨tres optionnels.
        
        Args:
            key: ClÃ© de traduction
            **kwargs: ParamÃ¨tres pour le formatage du texte
            
        Returns:
            Texte traduit
        """
        text = self.translations.get(self.language, {}).get(key, key)
        
        # Si des paramÃ¨tres sont fournis, formater le texte
        if kwargs:
            try:
                text = text.format(**kwargs)
            except KeyError:
                # Si une clÃ© manque, retourner le texte sans formatage
                pass
        
        return text
    
    def get_current_language(self) -> str:
        """Retourne la langue actuelle."""
        return self.language